{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bem vindo(a) ao F-BOAT F-BOAT PROJETO Projeto da UFF desenvolve barco inteligente que monitora as \u00e1guas na Ba\u00eda de Guanabara De acordo com o Instituto Estadual do Meio Ambiente do Rio de Janeiro (INEA-RJ), a crescente press\u00e3o sobre os recursos h\u00eddricos, al\u00e9m do aumento e da diversidade das fontes de polui\u00e7\u00e3o, torna o acompanhamento das altera\u00e7\u00f5es da qualidade das \u00e1guas cada vez mais necess\u00e1rio. Esse monitoramento \u00e9 feito para subsidiar a\u00e7\u00f5es de prote\u00e7\u00e3o e recupera\u00e7\u00e3o, visando garantir os usos atuais e futuros. Os dados provenientes do monitoramento s\u00e3o a base para a avalia\u00e7\u00e3o da qualidade das \u00e1guas e para a produ\u00e7\u00e3o de relat\u00f3rios, diagn\u00f3sticos e boletins sobre as condi\u00e7\u00f5es dos corpos h\u00eddricos. Com o intuito de colaborar na aten\u00e7\u00e3o dessa demanda ambiental, um grupo de pesquisadores da Universidade Federal Fluminense se destaca trazendo mais tecnologia para o processo de acompanhamento da qualidade dos recursos h\u00eddricos no estado do Rio de Janeiro. Alunos e docentes dos Departamentos de Engenharia El\u00e9trica (TEE-UFF), Engenharia de Recursos H\u00eddricos e Meio Ambiente (TGH-UFF), e do Instituto de Computa\u00e7\u00e3o (IC-UFF), est\u00e3o desenvolvendo em conjunto uma embarca\u00e7\u00e3o aut\u00f4noma para monitoramento da \u00e1gua das ba\u00edas e lagoas de Niter\u00f3i. A iniciativa tamb\u00e9m tem apoio financeiro da Funda\u00e7\u00e3o Carlos Chagas Filho de Amparo \u00e0 Pesquisa do Estado do Rio de Janeiro (FAPERJ) e conta com a parceria da Universidade Federal do Rio Grande do Norte (UFRN) e da empresa NVIDIA, l\u00edder mundial em solu\u00e7\u00f5es de Intelig\u00eancia Artificial e sistemas computacionais de alto desempenho embarcado. Arquitetura # Arduino: C\u00f3digos e bibliotecas usadas para testes no arduino mega e uno. Os c\u00f3digos carregados nos arduinos s\u00e3o: master_sailboat_RC_pixhawk no arduino mega e slave_vela_e_leme no arduino uno. # C\u00f3digos: C\u00f3digos dos arduinos usados antes de mudar o sistema para a pixhawk. Cont\u00e9m o firmware, os par\u00e2metros e uma miss\u00e3o com pontos na logoa do bonfim. docs/ index.md # Arquivos do site de documenta\u00e7\u00e3o do projeto. ... # Other markdown pages, images and other files. Instala\u00e7\u00e3o o c\u00f3digo fonte do firmware est\u00e1 em https://github.com/Natalnet/ardupilot.git, no branch nboat. Para compilar siga este tutorial de Setup On Ubuntu at\u00e9 o comando . ~/.profile. Se tudo der certo, use os comandos ./waf configure --board Pixhawk1 e ./waf rover. O firmware estar\u00e1 na pasta ardupilot/build/Pixhawk1/bin com o nome ardupilot.apj. Instale o MissionPlanner ou o QGroundControl para carregar o firmware na pixhawk. Ap\u00f3s carregar o firmware, carregue na pixhawk os par\u00e2metros do arquivo da pasta config_pixhawk/nboat_param. Comandos mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Home"},{"location":"#bem-vindoa-ao-f-boat","text":"","title":"Bem vindo(a) ao F-BOAT"},{"location":"#f-boat-projeto","text":"Projeto da UFF desenvolve barco inteligente que monitora as \u00e1guas na Ba\u00eda de Guanabara De acordo com o Instituto Estadual do Meio Ambiente do Rio de Janeiro (INEA-RJ), a crescente press\u00e3o sobre os recursos h\u00eddricos, al\u00e9m do aumento e da diversidade das fontes de polui\u00e7\u00e3o, torna o acompanhamento das altera\u00e7\u00f5es da qualidade das \u00e1guas cada vez mais necess\u00e1rio. Esse monitoramento \u00e9 feito para subsidiar a\u00e7\u00f5es de prote\u00e7\u00e3o e recupera\u00e7\u00e3o, visando garantir os usos atuais e futuros. Os dados provenientes do monitoramento s\u00e3o a base para a avalia\u00e7\u00e3o da qualidade das \u00e1guas e para a produ\u00e7\u00e3o de relat\u00f3rios, diagn\u00f3sticos e boletins sobre as condi\u00e7\u00f5es dos corpos h\u00eddricos. Com o intuito de colaborar na aten\u00e7\u00e3o dessa demanda ambiental, um grupo de pesquisadores da Universidade Federal Fluminense se destaca trazendo mais tecnologia para o processo de acompanhamento da qualidade dos recursos h\u00eddricos no estado do Rio de Janeiro. Alunos e docentes dos Departamentos de Engenharia El\u00e9trica (TEE-UFF), Engenharia de Recursos H\u00eddricos e Meio Ambiente (TGH-UFF), e do Instituto de Computa\u00e7\u00e3o (IC-UFF), est\u00e3o desenvolvendo em conjunto uma embarca\u00e7\u00e3o aut\u00f4noma para monitoramento da \u00e1gua das ba\u00edas e lagoas de Niter\u00f3i. A iniciativa tamb\u00e9m tem apoio financeiro da Funda\u00e7\u00e3o Carlos Chagas Filho de Amparo \u00e0 Pesquisa do Estado do Rio de Janeiro (FAPERJ) e conta com a parceria da Universidade Federal do Rio Grande do Norte (UFRN) e da empresa NVIDIA, l\u00edder mundial em solu\u00e7\u00f5es de Intelig\u00eancia Artificial e sistemas computacionais de alto desempenho embarcado.","title":"F-BOAT PROJETO"},{"location":"#arquitetura","text":"# Arduino: C\u00f3digos e bibliotecas usadas para testes no arduino mega e uno. Os c\u00f3digos carregados nos arduinos s\u00e3o: master_sailboat_RC_pixhawk no arduino mega e slave_vela_e_leme no arduino uno. # C\u00f3digos: C\u00f3digos dos arduinos usados antes de mudar o sistema para a pixhawk. Cont\u00e9m o firmware, os par\u00e2metros e uma miss\u00e3o com pontos na logoa do bonfim. docs/ index.md # Arquivos do site de documenta\u00e7\u00e3o do projeto. ... # Other markdown pages, images and other files. Instala\u00e7\u00e3o o c\u00f3digo fonte do firmware est\u00e1 em https://github.com/Natalnet/ardupilot.git, no branch nboat. Para compilar siga este tutorial de Setup On Ubuntu at\u00e9 o comando . ~/.profile. Se tudo der certo, use os comandos ./waf configure --board Pixhawk1 e ./waf rover. O firmware estar\u00e1 na pasta ardupilot/build/Pixhawk1/bin com o nome ardupilot.apj. Instale o MissionPlanner ou o QGroundControl para carregar o firmware na pixhawk. Ap\u00f3s carregar o firmware, carregue na pixhawk os par\u00e2metros do arquivo da pasta config_pixhawk/nboat_param.","title":"Arquitetura"},{"location":"#comandos","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Comandos"},{"location":"contato/","text":"","title":"Contato"},{"location":"sobre/","text":"","title":"Sobre"},{"location":"Projeto/Constru%C3%A7%C3%A3o/","text":".. index.md: ============ Construction ============ .. talk about the fisical aspect of the robots and the challenges involved Nboat I At the beggining we bought a comerctial RC controlled sailboat called RC Moonsoon Nauticus (link). This kind of sailboat is usually used for entartainement. The idea was to personalize this sailboat for our needs. The sailboat is shown in the image bellow. .. image:: ./images/1.jpg :scale: 10 % :align: center We first tried to brute force opena an aperture in the front of the sailboat to better allow the intruction of our needed eletronics as shown in the image bellow. .. image:: ./images/2.jpg :scale: 10 % :align: center After some experiments we realized that this wanst enough, because as soon as the water get inside the hull, our eletrocnits would be affected. So we decided to buil a safer compartiment in the same area to isolate our eletronics from watter. .. image:: ./images/3.jpg :scale: 10 % :align: center .. image:: ./images/4.jpg :scale: 10 % :align: center .. image:: ./images/5.jpg :scale: 10 % :align: center WQboat First Try +++++++++ Nboat II Electronics We decided to use the arduino as the main processing hardware in this prototyping phase and to integrate our system at this first moment. So we realized that the minimal necessary information to allow autonomous sailing were (at that time): position (GPS), current heading (compass or 9DOF IMU) and wind direction (wind vane) (latter we figured that control the sail angle could be done mechanically). With these necessary information, we started to develop our first and rudimentary autonomous sailing strategy. The idea was to constantly adjust the sailboat's heading (this is done by the rudder) and to get forward velocity (by adjusting the sail angle). Our first hypothesis was that if a sailboat does theses steps it will eventually reach a desired position. So, in this case the sailboat has two independent controllers: one for the sail, responsible for choosing the \"right\" sail angle so the sailboat gets some forward velocity; and one for the rudder, responsible for choosing the \"right\" rudder position so the sailboat follows a desired heading (the one that leads to the target point). these two controllers were boiled down to the following equations: .. code-block:: python sailAngle = windDirection/2 rudderAngle = headingError where, .. code-block:: python headingError = desiredHeading - currentHeading After implementing this control strategy we started setting up the hardware. We first tested every one of the sensors physically, so the connections were correct and the sensors were ON, and by software, so the value read by the sensor is available for use in the code. After these individual tests we put them all together in the arduino mega, showed by the pin schematics bellow: .. image:: ./images/hardware_sailboat1.png :scale: 75 % :align: center Testing After all, we took the boat to a nearby lagoon, called Lagoa de Alca\u00e7uz , to perform some experimental tests. We hoped to see if the whole system was working by picking a desired point in the lagoon and observing if the sailboat would be able to reach it on its own. The results of this experiment are shown in the video below. .. raw:: html <div style=\"position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;\"> <iframe src=\"https://www.youtube.com/embed/vy302e11Tpc?start=390&end=508\" frameborder=\"0\" allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 95%; height: 95%;\"></iframe> </div> As you can see the sailboat reached the desired target, even under not ideal conditions, with high wind velocity and some timid waves. Right after this test the concealment that we put on the sailboat was finally broken by the water and the sailboat stopped working properly. Lessons learned Some of it might seem obvious but... The sailing control strategy that we developed worked but it wasn't particularly robust enough to allow sailing to points directly against the wind (a zig-zagging maneuver called tacking/beating) If you're developing any navigation techniques for a robot TEST IT FIRST IN SIMULATION. It will save you a lot of time If you're going to perform ANY outdoor experiment (especially in the water) CAREFULLY PREPARE you fucking robot and PLAN the fucking mission back to back. In this way you'll take the most out of the experiment","title":"Index"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#nboat-i","text":"At the beggining we bought a comerctial RC controlled sailboat called RC Moonsoon Nauticus (link). This kind of sailboat is usually used for entartainement. The idea was to personalize this sailboat for our needs. The sailboat is shown in the image bellow. .. image:: ./images/1.jpg :scale: 10 % :align: center We first tried to brute force opena an aperture in the front of the sailboat to better allow the intruction of our needed eletronics as shown in the image bellow. .. image:: ./images/2.jpg :scale: 10 % :align: center After some experiments we realized that this wanst enough, because as soon as the water get inside the hull, our eletrocnits would be affected. So we decided to buil a safer compartiment in the same area to isolate our eletronics from watter. .. image:: ./images/3.jpg :scale: 10 % :align: center .. image:: ./images/4.jpg :scale: 10 % :align: center .. image:: ./images/5.jpg :scale: 10 % :align: center","title":"Nboat I"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#wqboat","text":"First Try +++++++++","title":"WQboat"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#nboat-ii","text":"","title":"Nboat II"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#electronics","text":"We decided to use the arduino as the main processing hardware in this prototyping phase and to integrate our system at this first moment. So we realized that the minimal necessary information to allow autonomous sailing were (at that time): position (GPS), current heading (compass or 9DOF IMU) and wind direction (wind vane) (latter we figured that control the sail angle could be done mechanically). With these necessary information, we started to develop our first and rudimentary autonomous sailing strategy. The idea was to constantly adjust the sailboat's heading (this is done by the rudder) and to get forward velocity (by adjusting the sail angle). Our first hypothesis was that if a sailboat does theses steps it will eventually reach a desired position. So, in this case the sailboat has two independent controllers: one for the sail, responsible for choosing the \"right\" sail angle so the sailboat gets some forward velocity; and one for the rudder, responsible for choosing the \"right\" rudder position so the sailboat follows a desired heading (the one that leads to the target point). these two controllers were boiled down to the following equations: .. code-block:: python sailAngle = windDirection/2 rudderAngle = headingError where, .. code-block:: python headingError = desiredHeading - currentHeading After implementing this control strategy we started setting up the hardware. We first tested every one of the sensors physically, so the connections were correct and the sensors were ON, and by software, so the value read by the sensor is available for use in the code. After these individual tests we put them all together in the arduino mega, showed by the pin schematics bellow: .. image:: ./images/hardware_sailboat1.png :scale: 75 % :align: center","title":"Electronics"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#testing","text":"After all, we took the boat to a nearby lagoon, called Lagoa de Alca\u00e7uz , to perform some experimental tests. We hoped to see if the whole system was working by picking a desired point in the lagoon and observing if the sailboat would be able to reach it on its own. The results of this experiment are shown in the video below. .. raw:: html <div style=\"position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;\"> <iframe src=\"https://www.youtube.com/embed/vy302e11Tpc?start=390&end=508\" frameborder=\"0\" allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 95%; height: 95%;\"></iframe> </div> As you can see the sailboat reached the desired target, even under not ideal conditions, with high wind velocity and some timid waves. Right after this test the concealment that we put on the sailboat was finally broken by the water and the sailboat stopped working properly.","title":"Testing"},{"location":"Projeto/Constru%C3%A7%C3%A3o/#lessons-learned","text":"Some of it might seem obvious but... The sailing control strategy that we developed worked but it wasn't particularly robust enough to allow sailing to points directly against the wind (a zig-zagging maneuver called tacking/beating) If you're developing any navigation techniques for a robot TEST IT FIRST IN SIMULATION. It will save you a lot of time If you're going to perform ANY outdoor experiment (especially in the water) CAREFULLY PREPARE you fucking robot and PLAN the fucking mission back to back. In this way you'll take the most out of the experiment","title":"Lessons learned"},{"location":"Projeto/Eletr%C3%B4nica/","text":".. _nboat: .. sensors calibration connections challenges bugs softwares ========== Eletr\u00f4nica ========== A parte eletr\u00f4nica do veleiro Nboat \u00e9 composta por: Placa central para o driver dos atuadores; Driver dos atuadores dual-vnh5019-motor-shield (acoplado ao arduino uno); Um arduino Mega; Um arduino Uno; Potenci\u00f4metro da vela; Potenci\u00f4metro do leme; Sensores do vento; Pixhawk 2.4.6 GPS IMU Telemetria 433 MHz Raspberry Pi; Modem wifi; Ubiquiti UNIFI AC MESH; Buzina; Transmissor e receptor R\u00e1dio R7; Uma breve explica\u00e7\u00e3o sobre cada componente \u00e9 dada a seguir. Placa central A placa central conecta e alimenta todos os componentes dos drivers: os potenci\u00f4metros, os arduinos e o dual-vnh5019-motor-shield, al\u00e9m de interfacear com a pixhawk. Ela fica localizada dentro da caixa preta no compartimento 3 e a ideia \u00e9 que os sinais de dados que v\u00eam dos outros compartimentos s\u00e3o conectados a essa placa usando cabos de rede rj45. Shield atuadores O dual-vnh5019-motor-shield manda sinais de PWM para os atuadores. Possui limite de corrente de 12A com picos de 30A por canal, sendo dois canais de sa\u00edda, um para o guincho da vela e outro para o atuador linear do leme. Arduinos O arduino mega recebe sinal de PWM (faixa de 1000 a 2000), traduz esse sinal para valores de \u00e2ngulos de atuador ([-90, 90] graus) e envia por I2C para o arduino uno. O arduino uno est\u00e1 conectado ao shield dual-vnh5019-motor-shield e nele est\u00e1 o controle PID de posi\u00e7\u00e3o dos atuadores. Este controle l\u00ea o valor do potenci\u00f4metro da porta anal\u00f3gica [0, 1023] (10 bits), traduz para valor de \u00e2ngulo de atuador e compara com o \u00e2ngulo enviado pelo arduino mega, gerando um erro. Neste erro s\u00e3o aplicados os ganhos P e I e ent\u00e3o este valor \u00e9 passado como velocidade para o atuador ([-400, 400]) usando a fun\u00e7\u00e3o md.setM1Speed(velocidade) como exemplo de velocidade para o canal M1. Potenci\u00f4metros Os potenci\u00f4metros da vela e do leme servem para dar ao controlador de posi\u00e7\u00e3o dos atuadores um retorno sobre a posi\u00e7\u00e3o atual do atuador. O pot do leme \u00e9 montado na parte superior do leme, que fica dentro do compartimento 4 e gira junto com o leme, mapeando sua posi\u00e7\u00e3o. O pot da vela est\u00e1 no compartimento 2. A impressora 3d foi usada para fazer uma pe\u00e7a que encaixa no eixo do guincho e, a medida que ele gira, tamb\u00e9m gira o potenci\u00f4metro que est\u00e1 acoplado na base. Sensores de vento Os sensores de vento ficam na proa do nboat. No momento temos um que mede a velocidade (speed) e o outro mede a dire\u00e7\u00e3o. Essas informa\u00e7\u00f5es do vento s\u00e3o usadas pela Pixhawk para calcular a posi\u00e7\u00e3o da vela para que o veleiro ganhe velocidade. Pixhawk A pixhawk \u00e9 o processador central de baixo n\u00edvel. Nela ficam os controles de movimento do nboat e o planejamento da miss\u00e3o, al\u00e9m da coleta dos dados dos sensores. O kit Pixhawk vem com um IMU e um GPS, e a pixhawk faz toda a parte de filtragem dos dados, estima\u00e7\u00e3o do estado e navega\u00e7\u00e3o (no sentido Fossen). A pixhawk roda Ardupilot Ardurover com configura\u00e7\u00e3o espec\u00edfica para veleiro. O firmware e os par\u00e2metros podem ser encontrados neste branch. Raspberry Pi A Raspberry Pi fica com o processamento de alto n\u00edvel, que \u00e9 o processamento de imagem ou outra opera\u00e7\u00e3o mais exija mais processamento e mem\u00f3ria. Ela tamb\u00e9m serve de interface wifi com o mundo externo, j\u00e1 que se conecta a Pixhawk e consegue ler seus valores usando o MAVROS. WiFi O Ubiquiti UNIFI AC MESH serve para extender o sinal wifi gerado pelo nboat e permitir comunica\u00e7\u00e3o de alta velocidade com a esta\u00e7\u00e3o base. O modem wifi cria e gerencia a rede interna, que conecta o Ubiquiti UNIFI AC MESH e a raspberry.","title":"Index"},{"location":"Projeto/Eletr%C3%B4nica/#placa-central","text":"A placa central conecta e alimenta todos os componentes dos drivers: os potenci\u00f4metros, os arduinos e o dual-vnh5019-motor-shield, al\u00e9m de interfacear com a pixhawk. Ela fica localizada dentro da caixa preta no compartimento 3 e a ideia \u00e9 que os sinais de dados que v\u00eam dos outros compartimentos s\u00e3o conectados a essa placa usando cabos de rede rj45.","title":"Placa central"},{"location":"Projeto/Eletr%C3%B4nica/#shield-atuadores","text":"O dual-vnh5019-motor-shield manda sinais de PWM para os atuadores. Possui limite de corrente de 12A com picos de 30A por canal, sendo dois canais de sa\u00edda, um para o guincho da vela e outro para o atuador linear do leme.","title":"Shield atuadores"},{"location":"Projeto/Eletr%C3%B4nica/#arduinos","text":"O arduino mega recebe sinal de PWM (faixa de 1000 a 2000), traduz esse sinal para valores de \u00e2ngulos de atuador ([-90, 90] graus) e envia por I2C para o arduino uno. O arduino uno est\u00e1 conectado ao shield dual-vnh5019-motor-shield e nele est\u00e1 o controle PID de posi\u00e7\u00e3o dos atuadores. Este controle l\u00ea o valor do potenci\u00f4metro da porta anal\u00f3gica [0, 1023] (10 bits), traduz para valor de \u00e2ngulo de atuador e compara com o \u00e2ngulo enviado pelo arduino mega, gerando um erro. Neste erro s\u00e3o aplicados os ganhos P e I e ent\u00e3o este valor \u00e9 passado como velocidade para o atuador ([-400, 400]) usando a fun\u00e7\u00e3o md.setM1Speed(velocidade) como exemplo de velocidade para o canal M1.","title":"Arduinos"},{"location":"Projeto/Eletr%C3%B4nica/#potenciometros","text":"Os potenci\u00f4metros da vela e do leme servem para dar ao controlador de posi\u00e7\u00e3o dos atuadores um retorno sobre a posi\u00e7\u00e3o atual do atuador. O pot do leme \u00e9 montado na parte superior do leme, que fica dentro do compartimento 4 e gira junto com o leme, mapeando sua posi\u00e7\u00e3o. O pot da vela est\u00e1 no compartimento 2. A impressora 3d foi usada para fazer uma pe\u00e7a que encaixa no eixo do guincho e, a medida que ele gira, tamb\u00e9m gira o potenci\u00f4metro que est\u00e1 acoplado na base.","title":"Potenci\u00f4metros"},{"location":"Projeto/Eletr%C3%B4nica/#sensores-de-vento","text":"Os sensores de vento ficam na proa do nboat. No momento temos um que mede a velocidade (speed) e o outro mede a dire\u00e7\u00e3o. Essas informa\u00e7\u00f5es do vento s\u00e3o usadas pela Pixhawk para calcular a posi\u00e7\u00e3o da vela para que o veleiro ganhe velocidade.","title":"Sensores de vento"},{"location":"Projeto/Eletr%C3%B4nica/#pixhawk","text":"A pixhawk \u00e9 o processador central de baixo n\u00edvel. Nela ficam os controles de movimento do nboat e o planejamento da miss\u00e3o, al\u00e9m da coleta dos dados dos sensores. O kit Pixhawk vem com um IMU e um GPS, e a pixhawk faz toda a parte de filtragem dos dados, estima\u00e7\u00e3o do estado e navega\u00e7\u00e3o (no sentido Fossen). A pixhawk roda Ardupilot Ardurover com configura\u00e7\u00e3o espec\u00edfica para veleiro. O firmware e os par\u00e2metros podem ser encontrados neste branch.","title":"Pixhawk"},{"location":"Projeto/Eletr%C3%B4nica/#raspberry-pi","text":"A Raspberry Pi fica com o processamento de alto n\u00edvel, que \u00e9 o processamento de imagem ou outra opera\u00e7\u00e3o mais exija mais processamento e mem\u00f3ria. Ela tamb\u00e9m serve de interface wifi com o mundo externo, j\u00e1 que se conecta a Pixhawk e consegue ler seus valores usando o MAVROS.","title":"Raspberry Pi"},{"location":"Projeto/Eletr%C3%B4nica/#wifi","text":"O Ubiquiti UNIFI AC MESH serve para extender o sinal wifi gerado pelo nboat e permitir comunica\u00e7\u00e3o de alta velocidade com a esta\u00e7\u00e3o base. O modem wifi cria e gerencia a rede interna, que conecta o Ubiquiti UNIFI AC MESH e a raspberry.","title":"WiFi"},{"location":"Projeto/El%C3%A9trica/","text":".. _nboatmini: ======== El\u00e9trica ======== .. falar como est\u00e1 implementada a parte el\u00e9trica do nboat","title":"Index"},{"location":"Projeto/Estrutura/","text":".. _nboatmini: ============ Estrutura ============ .. talk about the fisical aspect of the robots and the challenges involved Constru\u00e7\u00e3o O veleiro Nboat II (ser\u00e1 chamado de Nboat neste documento) foi construido em meados de 2015. O projeto estrutural do veleiro foi feito pelo Engenheiro naval Fred e sua constru\u00e7\u00e3o foi comandada pelo Zeca, que tem uma oficina para constru\u00e7\u00e3o e manuten\u00e7\u00e3o de embarca\u00e7\u00f5es nos arredores da Redinha. .. image:: ./images/estrutura1.jpg :width: 49 % .. image:: ./images/estrutura2.jpg :width: 49 % O casco do veleiro possui 4 compartimentos, cada um vedado com tampas presas com parafusos para evitar a entrada de \u00e1gua. Os compartimentos s\u00e3o conectados lateralmente por tubos de pvc que servem para passar os fios de energia e dados. A quilha do veleiro \u00e9 lastrasda, ou seja, poss\u00fai um peso em sua extremidade para ajudar na estabilidade do veleiro. Ela pesa 37 Kg. .. image:: ./images/estrutura4.jpg :width: 49 % .. image:: ./images/estrutura5.jpg :width: 49 % .. tip:: A frente de uma embacar\u00e7\u00e3o \u00e9 chamada de proa. A traseira se chama popa (vento em popa). O lado esquerdo da embarca\u00e7\u00e3o se chama Bombordo (lado do cora\u00e7\u00e3o, que bombeia o sangue ;D) e a direita Estibordo ou Boreste. Tamb\u00e9m foi constru\u00eddo o leme e a vela. O leme \u00e9 uma esp\u00e9cie de quilha rotat\u00f3ria que fica na traseira do veleiro (popa) e \u00e9 usado modificar o rumo da embarca\u00e7\u00e3o. A vela se conecta ao casco entre os compartimentos 1 e 2 e serve para captar a for\u00e7a dos ventos e dar velocidade ao veleiro. As dimens\u00f5es de ambos podem ser vistos mais abaixo. Atuadores Para mudar a posi\u00e7\u00e3o da vela e do leme o veleiro Nboat usa um atuador linear (leme) e um mini-guicho (vela). O guincho fica no compartimento 2, pr\u00f3xima a vela, equanto o atuador linear pode ser visto na imagem abaixo dentro do compartimento 4. .. image:: ./images/estrutura3.jpg :width: 60 % :align: center Organiza\u00e7\u00e3o Os compartimentos s\u00e3o n\u00famerados de 1 a 4, sendo o compartimento 1 aquele que fica mais a frente da embarca\u00e7\u00e3o e 4 o que fica mais pr\u00f3ximo ao leme. Cada compartimento acolhe um tipo de equipamento, sendo, atualmente, o compartimento 1 cont\u00e9m o bot\u00e3o de emerg\u00eancia e as entradas dos sensores de vento e da buzina. O compartimento 2 fica com o sistema de atua\u00e7\u00e3o da vela e as baterias, al\u00e9m de rel\u00e9s para o sistema de segura\u00e7a da vela. O compartimento 3 fica com os processadores centrais e a caixa de disjuntores de distrubui\u00e7\u00e3o de energia. O compartimento 4 fica com o atuador do leme. .. image:: ./images/comp_1.jpg :width: 49 % .. image:: ./images/comp_2.jpg :width: 49 % .. image:: ./images/comp_3.jpg :width: 49 % .. image:: ./images/comp_4.jpg :width: 49 % Montagem estrutural do veleiro Por seu grande porte e peso dos equipamentos, a montagem do veleiro \u00e9 demorada e precisa de pelo menos 4 pessoas, por\u00e9m quanto mais melhor. A montagem consiste basicamente em acoplar a bolina, o leme e a vela. A montagem detalhada completa, com conex\u00e3o dos fios de energia e calibragem da vela e do leme e passo-a-passo da montagem das partes ser\u00e1 mostrada na se\u00e7\u00e3o experimentos. A bolina \u00e9 encaixada de baixo pra cima no casco, e sua parte superior possui 3 parafusos, que s\u00e3o encaixados na tampa da bolina e parafusados. O leme tamb\u00e9m \u00e9 colocado de baixo pra cima no seu compartimento e internamente \u00e9 parafusado a um bra\u00e7o de metal que encaixa no atuador linear. Para a vela, \u00e9 preciso colocar o tecido no mastro e ent\u00e3o amarra-l\u00e1 \u00e0 retranca, que \u00e9 a haste que d\u00e1 suporte horizontal \u00e0 vela. Dimens\u00f5es e pesos Pesos +++++ baterias nauticas: 25,5 Kg. quilha: 37 Kg. casco: ~50 Kg. O peso total do veleiro montado, com as baterias \u00e9 aproximadamente 150Kgs. Dimens\u00f5es +++++++++ .. image:: ./images/dim1.png :width: 49 % .. image:: ./images/dim2.png :width: 49 %","title":"Index"},{"location":"Projeto/Estrutura/#construcao","text":"O veleiro Nboat II (ser\u00e1 chamado de Nboat neste documento) foi construido em meados de 2015. O projeto estrutural do veleiro foi feito pelo Engenheiro naval Fred e sua constru\u00e7\u00e3o foi comandada pelo Zeca, que tem uma oficina para constru\u00e7\u00e3o e manuten\u00e7\u00e3o de embarca\u00e7\u00f5es nos arredores da Redinha. .. image:: ./images/estrutura1.jpg :width: 49 % .. image:: ./images/estrutura2.jpg :width: 49 % O casco do veleiro possui 4 compartimentos, cada um vedado com tampas presas com parafusos para evitar a entrada de \u00e1gua. Os compartimentos s\u00e3o conectados lateralmente por tubos de pvc que servem para passar os fios de energia e dados. A quilha do veleiro \u00e9 lastrasda, ou seja, poss\u00fai um peso em sua extremidade para ajudar na estabilidade do veleiro. Ela pesa 37 Kg. .. image:: ./images/estrutura4.jpg :width: 49 % .. image:: ./images/estrutura5.jpg :width: 49 % .. tip:: A frente de uma embacar\u00e7\u00e3o \u00e9 chamada de proa. A traseira se chama popa (vento em popa). O lado esquerdo da embarca\u00e7\u00e3o se chama Bombordo (lado do cora\u00e7\u00e3o, que bombeia o sangue ;D) e a direita Estibordo ou Boreste. Tamb\u00e9m foi constru\u00eddo o leme e a vela. O leme \u00e9 uma esp\u00e9cie de quilha rotat\u00f3ria que fica na traseira do veleiro (popa) e \u00e9 usado modificar o rumo da embarca\u00e7\u00e3o. A vela se conecta ao casco entre os compartimentos 1 e 2 e serve para captar a for\u00e7a dos ventos e dar velocidade ao veleiro. As dimens\u00f5es de ambos podem ser vistos mais abaixo.","title":"Constru\u00e7\u00e3o"},{"location":"Projeto/Estrutura/#atuadores","text":"Para mudar a posi\u00e7\u00e3o da vela e do leme o veleiro Nboat usa um atuador linear (leme) e um mini-guicho (vela). O guincho fica no compartimento 2, pr\u00f3xima a vela, equanto o atuador linear pode ser visto na imagem abaixo dentro do compartimento 4. .. image:: ./images/estrutura3.jpg :width: 60 % :align: center","title":"Atuadores"},{"location":"Projeto/Estrutura/#organizacao","text":"Os compartimentos s\u00e3o n\u00famerados de 1 a 4, sendo o compartimento 1 aquele que fica mais a frente da embarca\u00e7\u00e3o e 4 o que fica mais pr\u00f3ximo ao leme. Cada compartimento acolhe um tipo de equipamento, sendo, atualmente, o compartimento 1 cont\u00e9m o bot\u00e3o de emerg\u00eancia e as entradas dos sensores de vento e da buzina. O compartimento 2 fica com o sistema de atua\u00e7\u00e3o da vela e as baterias, al\u00e9m de rel\u00e9s para o sistema de segura\u00e7a da vela. O compartimento 3 fica com os processadores centrais e a caixa de disjuntores de distrubui\u00e7\u00e3o de energia. O compartimento 4 fica com o atuador do leme. .. image:: ./images/comp_1.jpg :width: 49 % .. image:: ./images/comp_2.jpg :width: 49 % .. image:: ./images/comp_3.jpg :width: 49 % .. image:: ./images/comp_4.jpg :width: 49 %","title":"Organiza\u00e7\u00e3o"},{"location":"Projeto/Estrutura/#montagem-estrutural-do-veleiro","text":"Por seu grande porte e peso dos equipamentos, a montagem do veleiro \u00e9 demorada e precisa de pelo menos 4 pessoas, por\u00e9m quanto mais melhor. A montagem consiste basicamente em acoplar a bolina, o leme e a vela. A montagem detalhada completa, com conex\u00e3o dos fios de energia e calibragem da vela e do leme e passo-a-passo da montagem das partes ser\u00e1 mostrada na se\u00e7\u00e3o experimentos. A bolina \u00e9 encaixada de baixo pra cima no casco, e sua parte superior possui 3 parafusos, que s\u00e3o encaixados na tampa da bolina e parafusados. O leme tamb\u00e9m \u00e9 colocado de baixo pra cima no seu compartimento e internamente \u00e9 parafusado a um bra\u00e7o de metal que encaixa no atuador linear. Para a vela, \u00e9 preciso colocar o tecido no mastro e ent\u00e3o amarra-l\u00e1 \u00e0 retranca, que \u00e9 a haste que d\u00e1 suporte horizontal \u00e0 vela.","title":"Montagem estrutural do veleiro"},{"location":"Projeto/Estrutura/#dimensoes-e-pesos","text":"Pesos +++++ baterias nauticas: 25,5 Kg. quilha: 37 Kg. casco: ~50 Kg. O peso total do veleiro montado, com as baterias \u00e9 aproximadamente 150Kgs. Dimens\u00f5es +++++++++ .. image:: ./images/dim1.png :width: 49 % .. image:: ./images/dim2.png :width: 49 %","title":"Dimens\u00f5es e pesos"},{"location":"Projeto/Experimentos/","text":"============ Experimentos ============ Montagem do veleiro 1) O primeiro passo \u00e9 montar o leme. Devido ao seu tamanho, talvez seja preciso levantar o casco para encaixar o leme em seu compartimento. Duas pessoas (ou mais) levantam o casco enquanto uma pessoa vai por baixo e encaixa o leme no seu buraco. Em seguida o casco \u00e9 baixado at\u00e9 descan\u00e7ar novamente na carro\u00e7a. Alternativamente, o engate da carro\u00e7a, que neste momento est\u00e1 apoiado em uma cadeira ou uma caixa, pode ser descido at\u00e9 o ch\u00e3o, de forma que a traseira se eleve e talvez d\u00ea para encaixar o leme. Ap\u00f3s esta etapa, uma pessoa mant\u00e9m o leme elevado e, pelo compartimento 4, a haste que encaixa no atuador linear \u00e9 aparafusada ao leme. Em seguida \u00e9 preciso calibrar o leme. Com o sistema do veleiro e o r\u00e1dio ligado, certifique-se que h\u00e1 o controle manual pelo r\u00e1dio movendo os sticks e vendo se o leme e/ou a vela se mexem. Ent\u00e3o, deixe o stick do leme (stick direito, movimento horizontal) na posi\u00e7\u00e3o central e gire o potenciometro cuidadosamente. Perceba que girando o potenciometro em um sentido o atuador retrai e girando em outro sentido o atuador abre. Ent\u00e3o, observando a faixa de cores no atuador linear, ajuste o potenciometro at\u00e9 que o atuador pare na cor preta. Em seguida, encaixe o bra\u00e7o do potenciometro na vela, tendo cuidado para manter a posi\u00e7\u00e3o do potenciometro (normalemente ele gira um pouco e o atuador se move). Por fim, use os trims para um ajuste fino do leme, de modo que ele fique alinhado corretamente; .. image:: ./images/exp2_label.png :width: 60 % :align: center 2) A segunda parte a ser montada \u00e9 a bolina. Com o veleiro em cima da carro\u00e7a de transporte, duas pessoas (ou mais) levantam o casco verticalmente enquanto outras duas (ou mais) posicionam a bolina no centro da carro\u00e7a e alinham sua entrada. O casco \u00e9 ent\u00e3o descido lentamente, observando sua angula\u00e7\u00e3o pois se a bolina estiver um pouco desalinhada h\u00e1 o perigo de danificar o casco. Vale salientar que neste momento o casco, por conter as baterias, pesa aproximadamente 100kg. Quando o casco descer ao ponto de ser apoiado novamente na carro\u00e7a, duas pessoas v\u00e3o por baixo da carro\u00e7a e empurram a bolina para cima at\u00e9 que o buraco no meio da bolina fique vis\u00edvel na parte superior do casco. Ent\u00e3o, outra pessoa p\u00f5e uma haste nesse buraco, o que mant\u00e9m a bolina na posi\u00e7\u00e3o elevada impede que ela des\u00e7a. Em seguida algu\u00e9m encaixa e aparafusa a tampa da bolina; 3) O pr\u00f3ximo passo \u00e9 montar a vela. Para montar a vela \u00e9 preciso primeiro por o tecido da vela no mastro. Em seguida o mastro \u00e9 encaixado no casco. Quando o veleiro estiver na \u00e1gua, deve-se colocar a retranca no mastro e amarrar a ponta da vela no final da retranca, mantendo a vela tensionada; .. image:: ./images/exp1_label.png :width: 60 % :align: center 4) Com a estrutura principal do veleiro montada, \u00e9 preciso agora conectar as baterias e fazer alguns testes b\u00e1sicos do sistema de controle. Antes de conectar verifique se o bot\u00e3o de emerg\u00eancia est\u00e1 pressionado e se o disjuntor central est\u00e1 desligado. Primeiramente conecte as baterias em paralelo, conectando um cabo vermelho do positivo da bat1 para o positivo da bat2 e um cabo preto do negativo da bat1 para o negativo da bat2. Ent\u00e3o, conecte o cabo preto do (negativo do sistema) e o cabo preto e vermelho (rel\u00e9) no contato negativo da bateria. Em seguida, conecte o cabo vermelho (positivo do sistema) no contato positivo da bateria. Voc\u00ea deve ouvir um clique o que indica que o rel\u00e9 foi energizado. Caso n\u00e3o ou\u00e7a este clique verifique as conex\u00f5es. Ligue o disjuntor central. Solte o bot\u00e3o de emerg\u00eancia e verifique se o led verde do compartimento das baterias est\u00e1 aceso. .. warning:: CUIDADO PARA N\u00c3O INVERTER A CONEX\u00c3O DA BATERIA!!!!! 5) Ligue o r\u00e1dio e verifique se o controle manual est\u00e1 funcionando. Ligue o notebook de apoio e conecte o receptor do r\u00e1dio de telemetria na porta usb. Abra o QGroundControl ou o MissionPlanner e tente se conectar. Deixe o sistema ligado um tempo para que o GPS esquente e d\u00ea lock (isso leva mais ou menos uns 3 minutos). Ap\u00f3s isto o sistema de controle est\u00e1 pronto para ir pra \u00e1gua. 6) Agora, para levar o veleiro at\u00e9 a margem do reservat\u00f3rio, deve-se ter cuidado com o leme pois devido a altura da carro\u00e7a, o mesmo fica bem pr\u00f3ximo ao ch\u00e3o. \u00c9 melhor levar o veleiro at\u00e9 a margem de r\u00e9, dependendo da inclina\u00e7\u00e3o do local. Debugando o sistema Ap\u00f3s ligar o veleiro v\u00e1rios problemas podem ocorrer que causam o mau funcionamento do sistema. O mais importante \u00e9 manter o controle manual funcional a todo tempo para salvar veleiro em situa\u00e7\u00e3o de emerg\u00eancia. 1) O controle manual n\u00e3o funciona: - problema no potenciometro; - problema na placa central; - problema no driver; - problema na pixhawk; - problema no r\u00e1dio; - problema no receptor do r\u00e1dio;","title":"Index"},{"location":"Projeto/Experimentos/#montagem-do-veleiro","text":"1) O primeiro passo \u00e9 montar o leme. Devido ao seu tamanho, talvez seja preciso levantar o casco para encaixar o leme em seu compartimento. Duas pessoas (ou mais) levantam o casco enquanto uma pessoa vai por baixo e encaixa o leme no seu buraco. Em seguida o casco \u00e9 baixado at\u00e9 descan\u00e7ar novamente na carro\u00e7a. Alternativamente, o engate da carro\u00e7a, que neste momento est\u00e1 apoiado em uma cadeira ou uma caixa, pode ser descido at\u00e9 o ch\u00e3o, de forma que a traseira se eleve e talvez d\u00ea para encaixar o leme. Ap\u00f3s esta etapa, uma pessoa mant\u00e9m o leme elevado e, pelo compartimento 4, a haste que encaixa no atuador linear \u00e9 aparafusada ao leme. Em seguida \u00e9 preciso calibrar o leme. Com o sistema do veleiro e o r\u00e1dio ligado, certifique-se que h\u00e1 o controle manual pelo r\u00e1dio movendo os sticks e vendo se o leme e/ou a vela se mexem. Ent\u00e3o, deixe o stick do leme (stick direito, movimento horizontal) na posi\u00e7\u00e3o central e gire o potenciometro cuidadosamente. Perceba que girando o potenciometro em um sentido o atuador retrai e girando em outro sentido o atuador abre. Ent\u00e3o, observando a faixa de cores no atuador linear, ajuste o potenciometro at\u00e9 que o atuador pare na cor preta. Em seguida, encaixe o bra\u00e7o do potenciometro na vela, tendo cuidado para manter a posi\u00e7\u00e3o do potenciometro (normalemente ele gira um pouco e o atuador se move). Por fim, use os trims para um ajuste fino do leme, de modo que ele fique alinhado corretamente; .. image:: ./images/exp2_label.png :width: 60 % :align: center 2) A segunda parte a ser montada \u00e9 a bolina. Com o veleiro em cima da carro\u00e7a de transporte, duas pessoas (ou mais) levantam o casco verticalmente enquanto outras duas (ou mais) posicionam a bolina no centro da carro\u00e7a e alinham sua entrada. O casco \u00e9 ent\u00e3o descido lentamente, observando sua angula\u00e7\u00e3o pois se a bolina estiver um pouco desalinhada h\u00e1 o perigo de danificar o casco. Vale salientar que neste momento o casco, por conter as baterias, pesa aproximadamente 100kg. Quando o casco descer ao ponto de ser apoiado novamente na carro\u00e7a, duas pessoas v\u00e3o por baixo da carro\u00e7a e empurram a bolina para cima at\u00e9 que o buraco no meio da bolina fique vis\u00edvel na parte superior do casco. Ent\u00e3o, outra pessoa p\u00f5e uma haste nesse buraco, o que mant\u00e9m a bolina na posi\u00e7\u00e3o elevada impede que ela des\u00e7a. Em seguida algu\u00e9m encaixa e aparafusa a tampa da bolina; 3) O pr\u00f3ximo passo \u00e9 montar a vela. Para montar a vela \u00e9 preciso primeiro por o tecido da vela no mastro. Em seguida o mastro \u00e9 encaixado no casco. Quando o veleiro estiver na \u00e1gua, deve-se colocar a retranca no mastro e amarrar a ponta da vela no final da retranca, mantendo a vela tensionada; .. image:: ./images/exp1_label.png :width: 60 % :align: center 4) Com a estrutura principal do veleiro montada, \u00e9 preciso agora conectar as baterias e fazer alguns testes b\u00e1sicos do sistema de controle. Antes de conectar verifique se o bot\u00e3o de emerg\u00eancia est\u00e1 pressionado e se o disjuntor central est\u00e1 desligado. Primeiramente conecte as baterias em paralelo, conectando um cabo vermelho do positivo da bat1 para o positivo da bat2 e um cabo preto do negativo da bat1 para o negativo da bat2. Ent\u00e3o, conecte o cabo preto do (negativo do sistema) e o cabo preto e vermelho (rel\u00e9) no contato negativo da bateria. Em seguida, conecte o cabo vermelho (positivo do sistema) no contato positivo da bateria. Voc\u00ea deve ouvir um clique o que indica que o rel\u00e9 foi energizado. Caso n\u00e3o ou\u00e7a este clique verifique as conex\u00f5es. Ligue o disjuntor central. Solte o bot\u00e3o de emerg\u00eancia e verifique se o led verde do compartimento das baterias est\u00e1 aceso. .. warning:: CUIDADO PARA N\u00c3O INVERTER A CONEX\u00c3O DA BATERIA!!!!! 5) Ligue o r\u00e1dio e verifique se o controle manual est\u00e1 funcionando. Ligue o notebook de apoio e conecte o receptor do r\u00e1dio de telemetria na porta usb. Abra o QGroundControl ou o MissionPlanner e tente se conectar. Deixe o sistema ligado um tempo para que o GPS esquente e d\u00ea lock (isso leva mais ou menos uns 3 minutos). Ap\u00f3s isto o sistema de controle est\u00e1 pronto para ir pra \u00e1gua. 6) Agora, para levar o veleiro at\u00e9 a margem do reservat\u00f3rio, deve-se ter cuidado com o leme pois devido a altura da carro\u00e7a, o mesmo fica bem pr\u00f3ximo ao ch\u00e3o. \u00c9 melhor levar o veleiro at\u00e9 a margem de r\u00e9, dependendo da inclina\u00e7\u00e3o do local.","title":"Montagem do veleiro"},{"location":"Projeto/Experimentos/#debugando-o-sistema","text":"Ap\u00f3s ligar o veleiro v\u00e1rios problemas podem ocorrer que causam o mau funcionamento do sistema. O mais importante \u00e9 manter o controle manual funcional a todo tempo para salvar veleiro em situa\u00e7\u00e3o de emerg\u00eancia. 1) O controle manual n\u00e3o funciona: - problema no potenciometro; - problema na placa central; - problema no driver; - problema na pixhawk; - problema no r\u00e1dio; - problema no receptor do r\u00e1dio;","title":"Debugando o sistema"},{"location":"Projeto/Participantes/","text":"============= Participantes ============= @Esp. Andr\u00e9 Ara\u00fajo (UFF) @Msc. Alex (UFF) @Wanderson (UFF) @Msc. \u00c1lvaro Negreiros (UFF) @Dr. Davi Henrique (UFF) @Prof. Dr. Esteban Clua (UFF) @Prof. Dr. Luiz Marcos (UFF) @Prof. Dr. Daniel (UFF)","title":"Index"},{"location":"Projeto/Publica%C3%A7%C3%B5es/","text":".. _publications: ============ Publica\u00e7\u00f5es ============","title":"Index"},{"location":"Projeto/Sensores/","text":".. _water-sensors: Sensores Aqui \u00e9 tratado a parte espec\u00edfica de montagem e conex\u00f5es dos sensores. Pixhawk A pixhawk, que est\u00e1 localizada no compartimento 3, deve receber sinais dos sensores e enviar comandos para os atuadores da vela e do leme. Os sensores padr\u00e3o que vem no kit pixhawk s\u00e3o um GPS com IMU e o m\u00f3dulo de potencia, que calcula a tens\u00e3o e corrente a fim de estimar o consumo total da bateria e a carga restante. No esquema de conex\u00e3o atual a pixhawk apenas envia os comandos PWM para a placa central, e o sistema implementado nela funciona como uma interface, que recebe um sinal de PWM, traduz para \u00e2ngulo de vela e leme e comanda os atuadores para levar por a vela e o leme na posi\u00e7\u00e3o desejada. Como h\u00e1 essa separa\u00e7\u00e3o entre pixhawk e atuadores, a pixhawk n\u00e3o tem acesso a informa\u00e7\u00f5es importantes como consumo e posi\u00e7\u00e3o dos atuadores. Desta forma, existe uma cominica\u00e7\u00e3o serial entre a pixhawk e o driver dos atuadores onde a pixhawk: Envia sinais de PWM; Recebe estado dos atuadores (consumo, posi\u00e7\u00e3o, velocidade de rota\u00e7\u00e3o); A conex\u00e3o para envio de sinais de PWM \u00e9 mostrada abaixo. .. image:: ./images/px1.jpg :width: 60 % :align: center A conex\u00e3o para comunica\u00e7\u00e3o serial \u00e9 mostrada abaixo .. image:: ./images/px3.jpg :width: 49 % .. image:: ./images/px4.jpg :width: 49 % A pixhawk tamb\u00e9m recebe os sinais do sensores do vento. Sensores de vento O sensor de dire\u00e7\u00e3o do vento \u00e9 composto por um potenciometro de posi\u00e7\u00e3o absoluta que rotaciona de acordo com a dire\u00e7\u00e3o do vento. O sensor de velocidade do vento \u00e9 um conjunto de copos que gira e fecha um circuito funcionando como um bot\u00e3o. O n\u00famero de clicks indica a velocidade do vento. A imagem abaixo mostra como os sensores do vento s\u00e3o conectados \u00e0 pixhawk. .. image:: ./images/px2.jpg :width: 60 % :align: center Algumas configura\u00e7\u00f5es na pixhawk s\u00e3o necess\u00e1rias para os sinais lidos dos sensores de vento. Mais detalhes da configura\u00e7\u00e3o neste post <https://discuss.ardupilot.org/t/sailboat-support/32060/506> _. .. image:: ./images/anemometer_bb.png :width: 60 % :align: center Setup inicial da pixhawk O primeiro passo \u00e9 encaixar os m\u00f3dulos que vem no kit pixhawk. Com a pixhawk em m\u00e3os e montada, baixe o MissionPlanner <https://firmware.ardupilot.org/Tools/MissionPlanner/MissionPlanner-latest.msi> e tamb\u00e9m o QGroundControl <http://qgroundcontrol.com/> . Os dois s\u00e3o ground controls: softwares usados para ajudar a carregar o c\u00f3digo na pixhawk, configurar os par\u00e2metros, carregar miss\u00f5es e tamb\u00e9m acompanhar os dados de telemetria. Principalmente, eles ser\u00e3o usados para calibrar os sensores da pixhawk. Algumas partes s\u00e3o mais f\u00e1ceis de fazer no MissionPlanner e outras no QGroundControl, ent\u00e3o \u00e9 importante instalar os dois. Carregando o firmware O c\u00f3digo fonte do firmware est\u00e1 em https://github.com/Natalnet/ardupilot.git, no branch nboat. Para compilar siga este tutorial <https://ardupilot.org/dev/docs/building-setup-linux.html#building-setup-linux> _ de Setup On Ubuntu at\u00e9 o comando . ~/.profile . Se tudo der certo, use os comandos ./waf configure --board Pixhawk1 e ./waf rover . O firmware estar\u00e1 na pasta ardupilot/build/Pixhawk1/bin com o nome ardupilot.apj . Instale o MissionPlanner ou o QGroundControl para carregar o firmware na pixhawk. Ap\u00f3s carregar o firmware, carregue na pixhawk os par\u00e2metros do arquivo da pasta config_pixhawk/nboat_param . Com isto, o c\u00f3digo ardupilot modificado para o nboat estar\u00e1 rodando na pixhawk. Em outro menu ser\u00e1 mostrado mais detalhes do c\u00f3digo. Calibrar o imu Esta parte \u00e9 relativamente direta. Abra o missionplanner. V\u00e1 na aba Calibrar o r\u00e1dio Calibrar as sa\u00eddas asdasdad","title":"Index"},{"location":"Projeto/Sensores/#pixhawk","text":"A pixhawk, que est\u00e1 localizada no compartimento 3, deve receber sinais dos sensores e enviar comandos para os atuadores da vela e do leme. Os sensores padr\u00e3o que vem no kit pixhawk s\u00e3o um GPS com IMU e o m\u00f3dulo de potencia, que calcula a tens\u00e3o e corrente a fim de estimar o consumo total da bateria e a carga restante. No esquema de conex\u00e3o atual a pixhawk apenas envia os comandos PWM para a placa central, e o sistema implementado nela funciona como uma interface, que recebe um sinal de PWM, traduz para \u00e2ngulo de vela e leme e comanda os atuadores para levar por a vela e o leme na posi\u00e7\u00e3o desejada. Como h\u00e1 essa separa\u00e7\u00e3o entre pixhawk e atuadores, a pixhawk n\u00e3o tem acesso a informa\u00e7\u00f5es importantes como consumo e posi\u00e7\u00e3o dos atuadores. Desta forma, existe uma cominica\u00e7\u00e3o serial entre a pixhawk e o driver dos atuadores onde a pixhawk: Envia sinais de PWM; Recebe estado dos atuadores (consumo, posi\u00e7\u00e3o, velocidade de rota\u00e7\u00e3o); A conex\u00e3o para envio de sinais de PWM \u00e9 mostrada abaixo. .. image:: ./images/px1.jpg :width: 60 % :align: center A conex\u00e3o para comunica\u00e7\u00e3o serial \u00e9 mostrada abaixo .. image:: ./images/px3.jpg :width: 49 % .. image:: ./images/px4.jpg :width: 49 % A pixhawk tamb\u00e9m recebe os sinais do sensores do vento.","title":"Pixhawk"},{"location":"Projeto/Sensores/#sensores-de-vento","text":"O sensor de dire\u00e7\u00e3o do vento \u00e9 composto por um potenciometro de posi\u00e7\u00e3o absoluta que rotaciona de acordo com a dire\u00e7\u00e3o do vento. O sensor de velocidade do vento \u00e9 um conjunto de copos que gira e fecha um circuito funcionando como um bot\u00e3o. O n\u00famero de clicks indica a velocidade do vento. A imagem abaixo mostra como os sensores do vento s\u00e3o conectados \u00e0 pixhawk. .. image:: ./images/px2.jpg :width: 60 % :align: center Algumas configura\u00e7\u00f5es na pixhawk s\u00e3o necess\u00e1rias para os sinais lidos dos sensores de vento. Mais detalhes da configura\u00e7\u00e3o neste post <https://discuss.ardupilot.org/t/sailboat-support/32060/506> _. .. image:: ./images/anemometer_bb.png :width: 60 % :align: center","title":"Sensores de vento"},{"location":"Projeto/Sensores/#setup-inicial-da-pixhawk","text":"O primeiro passo \u00e9 encaixar os m\u00f3dulos que vem no kit pixhawk. Com a pixhawk em m\u00e3os e montada, baixe o MissionPlanner <https://firmware.ardupilot.org/Tools/MissionPlanner/MissionPlanner-latest.msi> e tamb\u00e9m o QGroundControl <http://qgroundcontrol.com/> . Os dois s\u00e3o ground controls: softwares usados para ajudar a carregar o c\u00f3digo na pixhawk, configurar os par\u00e2metros, carregar miss\u00f5es e tamb\u00e9m acompanhar os dados de telemetria. Principalmente, eles ser\u00e3o usados para calibrar os sensores da pixhawk. Algumas partes s\u00e3o mais f\u00e1ceis de fazer no MissionPlanner e outras no QGroundControl, ent\u00e3o \u00e9 importante instalar os dois.","title":"Setup inicial da pixhawk"},{"location":"Projeto/Sensores/#carregando-o-firmware","text":"O c\u00f3digo fonte do firmware est\u00e1 em https://github.com/Natalnet/ardupilot.git, no branch nboat. Para compilar siga este tutorial <https://ardupilot.org/dev/docs/building-setup-linux.html#building-setup-linux> _ de Setup On Ubuntu at\u00e9 o comando . ~/.profile . Se tudo der certo, use os comandos ./waf configure --board Pixhawk1 e ./waf rover . O firmware estar\u00e1 na pasta ardupilot/build/Pixhawk1/bin com o nome ardupilot.apj . Instale o MissionPlanner ou o QGroundControl para carregar o firmware na pixhawk. Ap\u00f3s carregar o firmware, carregue na pixhawk os par\u00e2metros do arquivo da pasta config_pixhawk/nboat_param . Com isto, o c\u00f3digo ardupilot modificado para o nboat estar\u00e1 rodando na pixhawk. Em outro menu ser\u00e1 mostrado mais detalhes do c\u00f3digo.","title":"Carregando o firmware"},{"location":"Projeto/Sensores/#calibrar-o-imu","text":"Esta parte \u00e9 relativamente direta. Abra o missionplanner. V\u00e1 na aba","title":"Calibrar o imu"},{"location":"Projeto/Sensores/#calibrar-o-radio","text":"","title":"Calibrar o r\u00e1dio"},{"location":"Projeto/Sensores/#calibrar-as-saidas","text":"asdasdad","title":"Calibrar as sa\u00eddas"},{"location":"Projeto/Simula%C3%A7%C3%A3o/","text":".. _Simulation: ========== Simulation ==========","title":"Index"}]}